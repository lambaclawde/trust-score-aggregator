# Trust Score Aggregator - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env files with secrets to git

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Ethereum RPC endpoint (use your own Alchemy/Infura/QuickNode key)
RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Chain ID (1 = Mainnet, 11155111 = Sepolia)
CHAIN_ID=1

# ERC-8004 Contract Addresses
# Mainnet:
IDENTITY_REGISTRY=0x8004A169FB4a3325136EB29fA0ceB6D2e539a432
REPUTATION_REGISTRY=0x8004BAa17C55a88189AE136b182e5fdA19dE9b63
# Sepolia (uncomment for testnet):
# IDENTITY_REGISTRY=0x8004A818BFB912233c491871b3d84c89A494BD9e
# REPUTATION_REGISTRY=0x8004B663056A597Dffe9eCcC1965A193B7388713

# x402 Payment Recipient - Your wallet address to receive payments
# REQUIRED in production - no default fallback
PAYMENT_RECIPIENT=0xYOUR_WALLET_ADDRESS_HERE

# =============================================================================
# OPTIONAL SETTINGS (with sensible defaults)
# =============================================================================

# Environment: development | staging | production
ENVIRONMENT=development

# Debug mode (set to false in production)
DEBUG=false

# API Server
API_HOST=0.0.0.0
API_PORT=8000

# Number of worker processes (only used when ENVIRONMENT=production)
WORKERS=4

# Database URL (SQLite for development, PostgreSQL for production)
DATABASE_URL=sqlite:///data/trust_scores.db
# For production: DATABASE_URL=postgresql://user:pass@host:5432/dbname

# CORS Origins (comma-separated list of allowed origins)
# Leave empty for production to disable CORS, or set specific origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
# For production: CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Rate Limiting (requests per day)
RATE_LIMIT_FREE=100
RATE_LIMIT_BASIC=10000
RATE_LIMIT_PREMIUM=100000

# x402 Payment Settings
PAYMENT_PRICE_ETH=0.0001

# =============================================================================
# INDEXER SETTINGS
# =============================================================================

# Starting block for indexing (set to contract deployment block)
# Mainnet: 24339871 (Jan 29, 2026)
# Sepolia: 9989393
INDEXER_START_BLOCK=24339871

# Polling interval in seconds
INDEXER_POLL_INTERVAL=12

# Batch size for fetching logs (adjust based on RPC limits)
# Free tier: 10-100, Paid tier: 1000-5000
INDEXER_BATCH_SIZE=2000

# =============================================================================
# PRODUCTION SETTINGS (optional, for advanced deployment)
# =============================================================================

# Redis URL for distributed rate limiting and caching
# REDIS_URL=redis://localhost:6379/0

# Oracle Contract (for on-chain trust score queries)
# ORACLE_CONTRACT=0x...

# Oracle owner private key (use secrets manager in production!)
# NEVER put actual private keys here - use AWS Secrets Manager, HashiCorp Vault, etc.
# ORACLE_OWNER_KEY=

# Sentry DSN for error tracking
# SENTRY_DSN=https://xxx@sentry.io/xxx

# =============================================================================
# NOTES
# =============================================================================
#
# SECURITY CHECKLIST:
# [ ] Never commit .env files with secrets
# [ ] Use secrets manager for private keys in production
# [ ] Set ENVIRONMENT=production for production deployments
# [ ] Configure proper CORS_ORIGINS for your domain
# [ ] Use PostgreSQL instead of SQLite for production
# [ ] Set up Redis for distributed rate limiting
# [ ] Enable HTTPS in your reverse proxy (nginx, traefik, etc.)
#
# PERFORMANCE TIPS:
# - Increase WORKERS based on CPU cores (2 * cores + 1)
# - Use connection pooling with PostgreSQL
# - Enable Redis caching for high-traffic deployments
# - Use a CDN for static assets (frontend)
